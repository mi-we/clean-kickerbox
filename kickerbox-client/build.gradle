plugins {
    id 'base'
    id 'com.github.node-gradle.node'
}

node {
    version = '12.16.1'
    npmVersion = '6.13.4'
    download = true
}

npm_run_build {
    inputs.files fileTree("public")
    inputs.files fileTree("src")

    inputs.file 'package.json'
    inputs.file 'package-lock.json'

    outputs.dir 'build'
}
build.dependsOn npm_run_build

task start(type: NpmTask) {
    args = ['start']
}

task test(type: NpmTask) {
    args = ['test']
}